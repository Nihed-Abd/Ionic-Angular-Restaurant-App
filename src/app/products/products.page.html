<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" text="" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title>Products</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="background-pattern" style="margin-top: 10px;">
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6" size-lg="4" *ngFor="let product of products">
        <div class="card" (click)="selectProduct(product)">
          <img [src]="product.image" alt="{{ product.name }}" class="card-image">
          <div class="card-content">
            <h3>{{ product.name }}</h3>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-modal [isOpen]="selectedProduct !== null" (didDismiss)="closeModal()">
    <ng-template>
      <ion-content>
        <div [class.fade-out]="isClosing" class="modal-content">
          <ion-icon name="close" class="close-icon" (click)="closeModal()"></ion-icon>
          <img [src]="selectedProduct?.image" alt="{{ selectedProduct?.name }}" class="modal-image">
          <h3>{{ selectedProduct?.name }}</h3>
          <p>{{ selectedProduct?.description }}</p>
          <p>Price: {{ selectedProduct?.price | currency }}</p>
          <ion-button expand="block" (click)="addToCart(selectedProduct)">Add to Cart</ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
